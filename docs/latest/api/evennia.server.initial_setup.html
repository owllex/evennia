
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>evennia.server.initial_setup &#8212; Evennia latest documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="evennia.server.inputfuncs" href="evennia.server.inputfuncs.html" />
    <link rel="prev" title="evennia.server.evennia_launcher" href="evennia.server.evennia_launcher.html" /> 
  </head><body>

     


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="evennia.server.inputfuncs.html" title="evennia.server.inputfuncs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="evennia.server.evennia_launcher.html" title="evennia.server.evennia_launcher"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Evennia latest</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Evennia-API.html" >API Summary</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="evennia-api.html" >evennia</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="evennia.html" >evennia</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="evennia.server.html" accesskey="U">evennia.server</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">evennia.server.initial_setup</a></li> 
      </ul>
    </div>  

    <div class="document">

      <div class="documentwrapper">
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/evennia_logo.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
  <h4>Previous topic</h4>
  <p class="topless"><a href="evennia.server.evennia_launcher.html"
                        title="previous chapter">evennia.server.evennia_launcher</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="evennia.server.inputfuncs.html"
                        title="next chapter">evennia.server.inputfuncs</a></p>
  <div role="note" aria-label="source link">
    <!--h3>This Page</h3-->
    <ul class="this-page-menu">
      <li><a href="../_sources/api/evennia.server.initial_setup.md.txt"
            rel="nofollow">Show Page Source</a></li>
    </ul>
   </div><h3>Links</h3>
<ul>
  <li><a href="https://www.evennia.com/docs/latest/index.html">Documentation Top</a> </li>
  <li><a href="https://www.evennia.com">Evennia Home</a> </li>
  <li><a href="https://github.com/evennia/evennia">Github</a> </li>
  <li><a href="http://games.evennia.com">Game Index</a> </li>
  <li>
    <a href="https://discord.gg/AJJpcRUhtF">Discord</a> -
     <a href="https://github.com/evennia/evennia/discussions">Discussions</a> -
      <a href="https://evennia.blogspot.com/">Blog</a>
  </li>
</ul>
<h3>Doc Versions</h3>
<ul>
  
    <li><a href="evennia.server.initial_setup.html">latest (main branch)</a></li>

    <li><a href="../4.x/index.html">v4.0.0 branch (outdated)</a></li>
  
    <li><a href="../3.x/index.html">v3.0.0 branch (outdated)</a></li>
  
    <li><a href="../2.x/index.html">v2.0.0 branch (outdated)</a></li>
  
    <li><a href="../1.x/index.html">v1.0.0 branch (outdated)</a></li>
  
    <li><a href="../0.x/index.html">v0.9.5 branch (outdated)</a></li>
  

</ul>

        </div>
      </div>
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-evennia.server.initial_setup">
<span id="evennia-server-initial-setup"></span><h1>evennia.server.initial_setup<a class="headerlink" href="#module-evennia.server.initial_setup" title="Permalink to this headline">¶</a></h1>
<p>This module handles initial database propagation, which is only run the first time the game starts.
It will create some default objects (notably give #1 its evennia-specific properties, and create the
Limbo room). It will also hooks, and then perform an initial restart.</p>
<p>Everything starts at handle_setup()</p>
<dl class="py function">
<dt id="evennia.server.initial_setup.create_objects">
<code class="sig-prename descclassname">evennia.server.initial_setup.</code><code class="sig-name descname">create_objects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/server/initial_setup.html#create_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.server.initial_setup.create_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the #1 account and Limbo room.</p>
</dd></dl>

<dl class="py function">
<dt id="evennia.server.initial_setup.at_initial_setup">
<code class="sig-prename descclassname">evennia.server.initial_setup.</code><code class="sig-name descname">at_initial_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/server/initial_setup.html#at_initial_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.server.initial_setup.at_initial_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom hook for users to overload some or all parts of the initial
setup. Called very last in the sequence. It tries to import and
srun a module settings.AT_INITIAL_SETUP_HOOK_MODULE and will fail
silently if this does not exist or fails to load.</p>
</dd></dl>

<dl class="py function">
<dt id="evennia.server.initial_setup.collectstatic">
<code class="sig-prename descclassname">evennia.server.initial_setup.</code><code class="sig-name descname">collectstatic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/server/initial_setup.html#collectstatic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.server.initial_setup.collectstatic" title="Permalink to this definition">¶</a></dt>
<dd><p>Run collectstatic to make sure all web assets are loaded.</p>
</dd></dl>

<dl class="py function">
<dt id="evennia.server.initial_setup.reset_server">
<code class="sig-prename descclassname">evennia.server.initial_setup.</code><code class="sig-name descname">reset_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/server/initial_setup.html#reset_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.server.initial_setup.reset_server" title="Permalink to this definition">¶</a></dt>
<dd><p>We end the initialization by resetting the server. This makes sure
the first login is the same as all the following ones,
particularly it cleans all caches for the special objects.  It
also checks so the warm-reset mechanism works as it should.</p>
</dd></dl>

<dl class="py function">
<dt id="evennia.server.initial_setup.handle_setup">
<code class="sig-prename descclassname">evennia.server.initial_setup.</code><code class="sig-name descname">handle_setup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">last_step</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/evennia/server/initial_setup.html#handle_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#evennia.server.initial_setup.handle_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Main logic for the module. It allows for restarting the
initialization at any point if one of the modules should crash.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>last_step</strong> (<em>str</em><em>, </em><em>None</em>) – The last stored successful step, for starting
over on errors. None if starting from scratch. If this is ‘done’,
the function will exit immediately.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
        </div>
      </div>

    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="evennia.server.inputfuncs.html" title="evennia.server.inputfuncs"
             >next</a> |</li>
        <li class="right" >
          <a href="evennia.server.evennia_launcher.html" title="evennia.server.evennia_launcher"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Evennia latest</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Evennia-API.html" >API Summary</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="evennia-api.html" >evennia</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="evennia.html" >evennia</a> &#187;</li>
          <li class="nav-item nav-item-4"><a href="evennia.server.html" >evennia.server</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">evennia.server.initial_setup</a></li> 
      </ul>
    </div>

     

    <div class="footer" role="contentinfo">
        &#169; Copyright 2024, The Evennia developer community.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>